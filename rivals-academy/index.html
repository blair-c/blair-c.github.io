<!doctype html><html lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel=icon type=image/svg+xml href=/favicon.svg><link rel="shortcut icon" type=image/svg+xml href=/favicon.svg><link rel=apple-touch-icon type=image/svg+xml href=/favicon.svg><link rel=stylesheet href=/style.css type=text/css><link rel=canonical href=https://blair-c.github.io/rivals-academy/><link rel=manifest href=/manifest.json><title>Rivals Academy</title>
<meta name=description content="Website + API for the Rivals Academy gaming community"><meta name=image content="https://blair-c.github.io/rivals-academy/thumb.png"><meta property="og:image" content="https://blair-c.github.io/rivals-academy/thumb.png"><meta property="og:title" content="Rivals Academy"><meta property="og:description" content="Website + API for the Rivals Academy gaming community"><meta property="og:site_name" content="blair!"><meta property="og:url" content="https://blair-c.github.io/rivals-academy/"><meta name=twitter:card content="summary"><meta name=twitter:title content="Rivals Academy"><meta name=twitter:description content="Website + API for the Rivals Academy gaming community"></head><body class="font-sans text-slate-700"><div class="fixed z-0 w-80 h-80 rounded-full bg-fuchsia-600 blur-[350px] opacity-25 lg:opacity-50 xl:opacity-75 left-0 top-0"></div><div class="fixed z-0 w-80 h-80 rounded-full bg-indigo-600 blur-[250px] opacity-25 lg:opacity-50 xl:opacity-75 right-0 bottom-0"></div><div class="absolute inset-0 bg-[url(/grid.svg)] bg-top [mask-image:linear-gradient(180deg,white,rgba(255,255,255,0))]"></div><main id=main-content><article class="relative w-full px-4 py-12 my-12 bg-white shadow-xl shadow-slate-700/10 ring-1 ring-gray-900/5 mx-auto max-w-4xl md:pt-16 md:pb-28"><header class="max-w-prose md:text-lg mx-auto"><h1 class="text-4xl font-bold text-slate-950 mb-2">Rivals Academy</h1><p class="text-xl leading-normal text-slate-500">Website + API for the Rivals Academy gaming community</p><p class="flex gap-2 flex-wrap whitespace-nowrap text-sm text-slate-500 border-y border-slate-200 py-4 mt-4 mb-6"><a href=https://rivals.academy class=hover:text-slate-700 target=_blank rel="noopener noreferrer">Visit Project
</a><span class="select-none pointer-events-none text-slate-300">\</span>
<a href=https://github.com/blair-c/rivals.academy class=hover:text-slate-700 target=_blank rel="noopener noreferrer">View Code
</a><span class="select-none pointer-events-none text-slate-300">\</span>
Serves ~5k unique visitors monthly</p></header><div class="prose md:prose-lg prose-slate prose-img:select-none prose-img:rounded-2xl md:prose-img:rounded-3xl prose-figcaption:text-center mx-auto"><img src=thumb.png class=select-none><p>Built with <a href=https://gohugo.io target=_blank rel=noopener>Hugo</a>, JavaScript + CSS, and <a href=https://ffmpeg.org target=_blank rel=noopener>FFmpeg</a> + <a href=https://imagemagick.org target=_blank rel=noopener>ImageMagick</a> for media optimization, with automated site builds via <a href=https://github.com/features/actions target=_blank rel=noopener>GitHub Actions CI/CD</a> deployed onto <a href=https://pages.cloudflare.com target=_blank rel=noopener>Cloudflare Pages</a></p><p>Rivals Academy is the largest website surrounding the indie fighting game <a href=https://rivalsofaether.com target=_blank rel=noopener>Rivals of Aether</a>, serving as the central hub for those seeking resources to improve their gameplay. The site receives roughly 250k network requests each month, with a 100/100/100/100 <a href=https://developer.chrome.com/docs/lighthouse target=_blank rel=noopener>Google Lighthouse</a> score on most pages.</p><h2 id=lectures>Lectures</h2><p>The first main section of the site is the <a href=https://rivals.academy/lectures target=_blank rel=noopener>Lectures</a>, a collection of strategy guide articles featuring 20+ authors, available in both English and Spanish.</p><p><img src=img/lectures.png alt="Lectures homepage"></p><p>This feature set is the bread and butter of a static site generator like Hugo, so setting up this system of posts, tags, and even i18n was more or less a matter of following a set of well-defined and documented practices.</p><p><img src=img/lectures-page.png alt="Individual lecture page example"></p><p>That being said, there have been a number of technical considerations that needed to be made as the site grew in scale, both in content and the amount of users/visits.</p><ol><li>Compressing video file sizes with <a href=https://ffmpeg.org target=_blank rel=noopener>FFmpeg</a>. As the compression of video is much more intensive than images, this is performed with a bash script as a part of the publishing process for new guides, rather than automated during build.</li><li>Even with compressed video, user experience was taking a hit on longer pages due to the preloading of all videos&rsquo; metadata taking precedence over a user playing a video at the top. This was especially apparent on mobile or otherwise shotty connections. With a bit of trial and error, the solution I&rsquo;ve landed on uses the <a href=https://developer.mozilla.org/en-US/docs/Web/API/Intersection_Observer_API target=_blank rel=noopener>IntersectionObserver API</a> to instead only load this metadata once each video is onscreen or will be shortly. Right now, there&rsquo;s still a balance to be found between increasing the range of this observer to ensure video thumbnails are loaded by the time they&rsquo;re onscreen, versus avoiding the initial issue of these loadings taking precedence over the user playing a video.</li></ol><h2 id=library>Library</h2><p>The second main section of the site is the <a href=https://rivals.academy/library target=_blank rel=noopener>Library</a>, home to visualizations and detailed stats for all characters, attacks, and stages in the game.</p><p><img src=img/library.png alt="Maypul&rsquo;s Library page, scrolled to her aerial attacks"></p><p>These visualizations are available at multiple in-game resolutions, scaled at build with <a href=https://imagemagick.org target=_blank rel=noopener>ImageMagick</a> and <a href=https://github.com/features/actions target=_blank rel=noopener>GitHub Actions</a>.</p><p>Both the pages themselves and a public API of the data are generated from the same edited YAML, made possible by Hugo&rsquo;s shortcodes and encoding features.</p><figure><img src=img/library-data.png alt="An example response from the public API displayed alongside the original YAML file"><figcaption><p>An example response from the public API, and the original YAML file</p></figcaption></figure><figure><img src=img/library-comparisons.png alt="The Library Glossary, scrolled to comparisons of the cast's jumping abilities"><figcaption><p>A glossary page provides definitions for all the listed stats, with automatically generated character comparisons</p></figcaption></figure></div></article></main></body></html>